<!doctype html>

<html>

<head>
  <meta charset="utf8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>music visualizer web app</title>
  <style>
    body {
      font-family: Arial;
      letter-spacing: 1px;
    }
    
    header {
      display: flex;
      justify-content: center;
      align-items: center;
    }
    
    h1 {
      font-size: 24px;
      margin-right: auto;
      font-weight: normal;
    }
    
    button:hover {
      cursor: pointer;
    }
    
    button {
      padding: 3px;
      margin: 3px;
    }
    
    #audioFileName {
      width: fit-content;
    }
    
    .marquee {
      margin: 0 auto;
      overflow: hidden;
      position: relative;
      white-space: nowrap;
    }
    
    #canvasContainer {
      width: 80vw;
      height: 80vh;
      border: 1px solid #ccc;
      margin: 0 auto;
    }
    
    #loadingMsg {
      text-align: center;
      font-weight: bold;
    }
    
    #toggleRecording {
      display: flex;
      align-items: center;
    }
    
    #showDrawer {
      margin-right: auto;
    }
    
    #showDrawer, #hideDrawer {
      background-color: transparent;
      border: 1px solid transparent;
      transition: 0.2s;
    }
    
    #showDrawer:hover, #hideDrawer:hover {
      border: 1px solid #ddd;
      border-radius: 5px;
    }
    
    #drawerHeader {
      display: flex;
      align-items: center;
      padding-right: 5px;
      border-bottom: 1px solid #ddd;
    }
    
    #drawerHeader h1 {
      margin-left: auto;
    }
    
    #lightingControlHeader {
      padding-left: 10px;
      font-weight: bold;
    }
    
    .content {
      padding: 10px;
      display: flex;
      flex-direction: column;
    }
    
    .drawer {
      height: 100vh;
      width: 15vw;
      border-right: 1px solid #ddd;
      background-color: #fff;
      display: none;
      position: absolute;
      top: 0;
      left: 0;
      z-index: 10;
    }
    
    .drawer h1 {
      font-size: 20px;
      padding: 3px;
    }
    
    .toolbar {
      display: flex;
      justify-content: center;
      gap: 10px;
      align-items: center;
    }
    
    .visualizer-section p, select {
      display: inline-block;
    }
    
    .visualizer-section p {
      font-weight: bold;
    }
    
    .colorPicker, .lightAxis {
      margin: 9px;
      display: flex;
      align-items: center;
      gap: 1em;
    }
    
    .colorPicker input {
      background-color: transparent;
      border: none;
    }
  </style>
  <script type="module" crossorigin src="/music-visualizer-web/assets/index-PDNsfSkV.js"></script>
</head>

<body>
  <header>
    <button id='showDrawer'>
      <!-- icon from https://iconoir.com/ -->
      <svg width="24px" height="24px" stroke-width="1.5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="#000000">
        <path d="M3 5H21" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
        <path d="M3 12H21" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
        <path d="M3 19H21" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
      </svg>
    </button>
    <h1> music visualizer </h1>
  </header>
  
  <main class='content'>
    <p id='loadingMsg'>Loading...</p>
    <div id='canvasContainer'></div>
    
    <div class='marquee'>
      <p id='audioFileName'></p>
    </div>
    
    <div class='drawer'>
      <div id='drawerHeader'>
        <h1> options </h1>
        <button id='hideDrawer'>
          <!-- icon from https://iconoir.com/ -->
          <svg width="24px" height="24px" stroke-width="1.5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="#000000">
            <path d="M6.75827 17.2426L12.0009 12M17.2435 6.75736L12.0009 12M12.0009 12L6.75827 6.75736M12.0009 12L17.2435 17.2426" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
        </button>
      </div>
      <div id='nonVisualizerSpecificOptions'>
        <div class='colorPicker'>
          <label for='bgColorPicker'>background color</label>
          <input type='color' id='bgColorPicker' value='#111e37'>
        </div>
        
        <!-- TODO: lighting controls -->
        <div class='lightingControl'>
          <p id='lightingControlHeader'> light controls </p>
          
          <div class='lightAxis'>
            <label for='lightX'>x</label>
            <input type='range' id='lightX' value='0' min='-50' max='50'>
            <p id='lightXValue'>0</p>
          </div>
          
          <div class='lightAxis'>
            <label for='lightY'>y</label>
            <input type='range' id='lightY' value='20' min='-50' max='50'>
            <p id='lightYValue'>20</p>
          </div>
          
          <div class='lightAxis'>
            <label for='lightZ'>z</label>
            <input type='range' id='lightZ' value='0' min='-50' max='50'>
            <p id='lightZValue'>0</p>
          </div>
        </div>
        
        <!--
        <div class='colorPicker'>
          <label for="meshColor">visualizer color:</label>
          <input type="color" id="meshColor" value="#ffffff">
        </div>
        -->
      </div>
      <div id='visualizerSpecificOptions'>
      </div>
    </div>
    
    <div class='toolbar'>
      <button id='importAudio'> import audio </button>
      <input id='fileInput' style='display:none;' type='file' accept='audio/*'>
      <button id='playVisualization'> play </button>
      <button id='stopVisualization'> stop </button>
      <div class='visualizer-section'>
        <p> visualizer: </p>
        <select id='visualizerChoice'>
          <option> waveform </option>
          <option> starfield </option>
          <option> pixels </option>
          <option> circular-cubes </option>
          <option> blob </option>
          <option> spheres </option>
          <option> waves </option>
        </select>
      </div>
      <div id='toggleRecording'>
        <label for='toggleRecordingCheckbox' id='toggleRecordingLabel'> record: </label>
        <input id='toggleRecordingCheckbox' type='checkbox' />
      </div>
    </div>
  </main>
  

</body>

</html>